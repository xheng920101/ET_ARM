#include "include.h" 

//#define		SSD_HACT	720
//#define		SSD_VACT	2560
//#define		SSD_HSA		0x14  
//#define		SSD_HBP		0x34
//#define		SSD_HFP		0x64  
//#define		SSD_VSA		0x02
//#define		SSD_VBP		0x08
//#define		SSD_VFP		0x08

//FPGAPORCH_TypeDef FPGA_porchPara = 
//{ 
//	720,	//FPGA_HAC
//	2560,	//FPGA_VAC
//	0x14,	//FPGA_HSA
//	0x20,	//FPGA_HBP
//	0x64,	//FPGA_HFP
//	0x02,	//FPGA_VSA
//	0x06,	//FPGA_VBP
//	0x08 	//FPGA_VFP
//};

#define		SSD_HACT	720
#define		SSD_VACT	2560
#define		SSD_HSA		0x14  
#define		SSD_HBP		0x22 //Default19  //22
#define		SSD_HFP		0x20 //Default£º18  //20
#define		SSD_VSA		0x02
#define		SSD_VBP		0x04 //+2
#define		SSD_VFP		0x03

FPGAPORCH_TypeDef FPGA_porchPara = 
{ 
	720,	//FPGA_HAC
	2560,	//FPGA_VAC
	0x14,	//FPGA_HSA
	0x22,	//FPGA_HBP  //22
	0x20,	//FPGA_HFP //20
	0x02,	//FPGA_VSA
	0x02,	//FPGA_VBP
	0x03 	//FPGA_VFP
};

unsigned short SSDInitCode[]= 
{
	0X1B7,	0X250,	0X205,
	0X1BA,	0X270,	0X2C3,		// 24MHz * 102 / 3 = 816Mbps	 135*24/4=810
	0X1BB,	0X20F,	0X200,		//	800 / 2 / 8 / 8 = 6.25MHz
	0X1B9,	0X201,	0X200,		//PLL Control Register
	0X317,

	0X1B1,	(0X200 | SSD_HSA),	(0X200 | SSD_VSA),		//VSA,HSA
	0X1B2,	(0X200 | SSD_HBP),	(0X200 | SSD_VBP),		//VBP,HBP	
	0X1B3,	(0X200 | SSD_HFP),	(0X200 | SSD_VFP),		//VFP,HFP
	0X1B4,	(0X200 |(SSD_HACT & 0X00FF)),	(0X200 |((SSD_HACT >> 8) & 0X00FF)),		//HACT,	
	0X1B5,	(0X200 |(SSD_VACT & 0X00FF)),	(0X200 |((SSD_VACT >> 8) & 0X00FF)),		//VACT,	

	0X1B6,	0X207,	0X200,		//Non burst mode with sync events
//	0X1B6,	0X20b,	0X200,		//Burst mode

	0X1C9,	0X207,	0X22C,
	0X1CA,	0X20A,	0X228,
	0X1CB,	0X210,	0X205,
	0X1CC,	0X20F,	0X20F,

	0X1DE,	0X203,	0X200,		//Lane Configuration Register
	0X1D6,	0X205,	0X200,

	0X1B8,	0X200,	0X200,
	0X1BD,	0X200,	0X200,

	0XF00
};

unsigned short ET1_InitCode[]= 
{
//-------------  Display Setting  -------------------------	
0X1B7,	0X210,	0X205,

0x1BC,	0x202, 0x200,
0x1BF,	0x2B0, 0x204,

0x1BC,	0x204,0x200,
0x1BF,	0x2B3,
				0x204,	//05=VIDEO 04=CMD
				0x200,
				0x200,
//interface ID setting
0x1BC,	0x202, 0x200,
0x1BF,	0x2B4, 0x200,
	
//DSI_control
0x1BC,	0x204,0x200,
0x1BF,	0x2B6,
0x23B,
0x2C3,
0x200,

//Back light control 1
0x1BC,	0x208,0x200,
0x1BF,	0x2B8,
0x257,
0x23D,
0x219,
0x21E,
0x20A,
0x250,
0x250,

//Back light control 2
0x1BC,	0x208,0x200,
0x1BF,	0x2B9,
0x26F,
0x23D,
0x228,
0x23C,
0x214,
0x2C8,
0x2C8,

//Back light control 3
0x1BC,	0x208,0x200,
0x1BF,	0x2BA,
0x2B5,
0x233,
0x241,
0x264,
0x223,
0x2A0,
0x2A0,

// SRE Control 1 (SRE=1 Weak setting)
0x1BC,	0x203,0x200,
0x1BF,	0x2BB,
0x214,
0x214,

// SRE Control 2 (SRE=2 Middle setting)
0x1BC,	0x203,0x200,
0x1BF,	0x2BC,
0x237,
0x232,

// SRE Control 3 (SRE=3 Strong setting)
0x1BC,	0x203,0x200,
0x1BF,	0x2BD,
0x264,
0x232,

//Test mode
0x1BC,	0x202, 0x200,
0x1BF,	0x2BE, 0x204,
							
//Test mode
0x1BC,	0x202, 0x200,
0x1BF,	0x2C0, 0x200,

//Display setting 1 common
0x1BC,	0x228,0x200,
0x1BF,	0x2C1,
0x284,
0x208,
0x200,
0x27F,
0x2FD,
0x2FF,
0x2E5,
0x28F,
0x2FF,
0x27F,
0x2F3,
0x2CF,
0x27F,
0x2FF,
0x27F,
0x2F0,
0x2CF,
0x237,
0x25F,
0x2FC,
0x2F1,
0x2FF,
0x2FF,
0x27F,
0x201,
0x258,
0x222,
0x285,
0x200,
0x240,
0x200,
0x262,
0x201,
0x208,
0x200,
0x201,
0x200,
0x201,
0x200,

//Display Setting2
0x1BC,	0x20F,0x200, 
0x1BF,	0x2C2,
0x201,
0x2FA,
0x200,
0x204,
0x263,
0x208,
0x200,
0x260,
0x200,
0x238,
0x270,
0x200,
0x200,
0x200,

//Display Setting3 Active - V
0x1BC,	0x209,0x200,
0x1BF,	0x2C3,
0x207,
0x201,
0x208,
0x201,
0x200,
0x200,
0x200,
0x200,

//Source Timing Setting & SOUT Equalize Setting
0x1BC,	0x212,0x200,
0x1BF,	0x2C4,
0x270,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x202,
0x201,
0x200,
0x205,
0x201,
0x200,
0x200,
0x200,

//Real timing scaling
0x1BC,	0x204,0x200,
0x1BF,	0x2C5,
0x200,
0x270,
0x206,

//LTPS Timing Setting
0x1BC,	0x211,0x200,
0x1BF,	0x2C6,
0x245,
0x202,
0x243,
0x201,
0x23C,
0x201,
0x20E,
0x201,
0x202,
0x201,
0x202,
0x205,
0x20E,
0x205,
0x245,
0x245,

//Gamma setting common set
	0X1BC,	0X21F,0X200,
	0X1BF,	0X2C7,
//----------------- GAMMA--------------//
0x200,
0x208,
0x210,
0x220,
0x230,
0x238,
0x240,
0x249,
0x22F,
0x238,
0x242,
0x24F,
0x257,
0x25F,
0x267,

0x200,
0x208,
0x210,
0x220,
0x230,
0x238,
0x240,
0x249,
0x22F,
0x238,
0x242,
0x24F,
0x257,
0x25F,
0x267,


		//Digtal Gamma setting
0X1BC,	0X214,0X200,
0X1BF,	0X2C8,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,

//Digtal Gamma setting
0X1BC,	0X214,0X200,
0X1BF,	0X2C9,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,
0x200,
0x200,
0x200,
0x200,
0x2FC,
0x200,


//Color enhancement
0x1BC,	0x22C,0x200,
0x1BF,	0x2CA,
0x21C,
0x2FC,
0x2FC,
0x2FC,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,

//panel pin control
0x1BC,	0x214,0x200,
0x1BF,	0x2CB,
0x2A2,
0x2A8,
0x2A8,
0x20A,
0x2F2,
0x2FF,
0x200,
0x200,
0x200,
0x200,
0x2A0,
0x2AA,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,
0x200,

//Panel interface control
0x1BC,	0x202, 0x200,
0x1BF,	0x2CC, 0x204,

//V blank Controle
0x1BC,	0x20B, 0x200,
0x1BF,	0x2CD, 
0x224,
0x286,
0x224,
0x286,
0x28D,
0x28D,
0x204,
0x204,
0x200,
0x200,

//Back light control 4
0x1BC,	0x21A,0x200,
0x1BF,	0x2CE,
0x25D,
0x240,
0x249,
0x253,
0x259,
0x25E,
0x263,
0x268,
0x26E,
0x274,
0x27E,
0x28A,
0x298,
0x2A8,
0x2BB,
0x2D0,
0x2FF,
0x204,
0x200,
0x204,
0x204,
0x242,
0x200,
0x269,
0x25A,

				
				
//Test Mode
0x1BC,	0x203,0x200,
0x1BF,	0x2CF,
0x248,
0x210,

//Power setting 1 for charge pump 
0x1BC,	0x211,0x200,
0x1BF,	0x2D0,
0x23B,
0x201,
0x291,
0x25F,
0x2D4,
0x214,
0x20F,
0x200,
0x200,
0x200,
0x219,
0x299,
0x200,
0x200,
0x200,
0x200,

//Power setting for internal power
0x1BC,	0x221,0x200,
0x1BF,	0x2D3,
0x21B,
0x23B,
0x2BB,
0x277,
0x277,
0x277,
0x2BB,
0x2B3,
0x233,
0x200,
0x280,
0x2A7,
0x2A8,
0x25F,
0x25F,
0x233,
0x233,
0x233,
0x2C0,
0x200,
0x2F2,
0x20F,
0x2FD,
0x27C,
0x2FF,
0x20F,
0x299,
0x200,
0x233,
0x200,
0x2FF,
0x2FF,

//Driving Option and Touch Setting
0x1BC,	0x206,0x200,
0x1BF,	0x2D4,
0x257,
0x233,
0x201,
0x200,
0x2FF,

//VCOM Setting (VCOM2 Setting(2))
0x1BC,	0x20C,0x200,
0x1BF,	0x2D5,
0x266,
0x200,
0x200,
0x201,
0x22E,
0x201,
0x22E,
0x200,
0x235,
0x200,
0x235,

//VCOM Setting (VCOM2 Setting(2))
0x1BC,	0x202, 0x200,
0x1BF,	0x2D6, 0x281,



//sequence timing control for power on
0x1BC,	0x222,0x200,
0x1BF,	0x2D7,
0x204,
0x2FF,
0x223,
0x215,
0x275,
0x2A4,
0x2C3,
0x21F,
0x2C3,
0x21F,
0x2D9,
0x207,
0x21C,
0x21F,
0x230,
0x28E,
0x287,
0x2C7,
0x2E3,
0x2F1,
0x2CC,
0x2F0,
0x21F,
0x2F0,
0x20D,
0x270,
0x200,
0x2AA,
0x267,
0x27E,
0x21D,
0x207,
0x200,

//Test mode
0x1BC,	0x204,0x200,
0x1BF,	0x2D8,
0x200,
0x200,
0x200,

//Test mode
0x1BC,	0x206,0x200,
0x1BF,	0x2D9,
0x200,
0x200,
0x200,
0x200,
0x200,


//Test image generator
0x1BC,	0x205,0x200,
0x1BF,	0x2DE,
0x200,
0x23F,
0x2FF,
0x210,

//Compression method
0x1BC,	0x203,0x200,
0x1BF,	0x2EB,
0x200,
0x200,

//Test Mode
0x1BC,	0x204,0x200,
0x1BF,	0x2F1,
0x200,
0x200,
0x200,

//Test Mode
0x1BC,	0x202, 0x200,
0x1BF,	0x2F2, 0x200,


//Test Mode
0x1BC,	0x20D, 0x200,
0x1BF,	0x2FA, 0x200,
0x224,
0x23F,
0x2E0,
0x2BE,
0x2B6,
0x299,
0x273,
0x230,
0x28D,
0x2BF,
0x280,
0x200,


//Test Mode
0x1BC,	0x202, 0x200,
0x1BF,	0x2E7, 0x20F,

0x1BC,	0x202,	0x200,
0x1BF,	0x2D6,	0x201,

/////////////Change to DCS
0x1B7,	0x250, 0x205,

/////////////Column Address Order Right to Left
//0X1BC,	0X201, 0X200,
//0X136,	0X240,

// CABC Setting
//0x1BC,	0x202,	0x200,
//0x1BF,	0x251,	0x2FF, // Duty 50%
//0x1BF,	0x253,	0x20C, 
//0x1BF,	0x255,	0x200,

//0X1BC,	0X205,	0X200,
//0x1BF,	0x22A,	0x200,	0x200,	0x205,	0x29F,	//COLUMN
//0x1BF,	0x22B,	0x200,	0x200,	0x209,	0x2FF,	//ROW

//0X1BC,	0X201,	0X200,
//0X1BF,	0X211,
//0X3FF,
//0X1BF,	0X229,
//0X3FF,

//0X1B7,	0X251,	0X205,
//0X3FF,
//0X1BC,	0X200,	0X2C0,
//0X1BD,	0X2A8,	0X200,
//0X1BE,	0X2E0,	0X210,

0XF00		
 };

unsigned short ET2_InitCode[]= 
{
	0X1B7,	0X250,	0X205,
	0x1BC,	0x201,  0x200,
  0x151,	0x2FF,

  0x1BC,	0x201, 0x200,
  0x153,	0x22C,

  0x1BC,	0x201, 0x200,
  0x155,	0x200,
	
	0X1BC,	0X202,	0X200,
	0X1BF,	0X236,	0X240,		//set address mode
	0X1BF,	0X23A,	0X270,		//set pixel format	
	0X325,

	0X1B7,	0X210,	0X205,		//for generate package

	0X1BC,	0X202,	0X200,
	0X1BF,	0X2B0,	0X204,		//Manufacturer Command Access Protect
	0X355,

	0XF00	
};

unsigned short RA_InitCode[]=
{
	0X1B7,	0X250,	0X205,
	
	0X1BC,	0X202,	0X200,
	0X1BF,	0X236,	0X240,		//set address mode
	0X1BF,	0X23A,	0X270,		//set pixel format	
	0X325,

	0X1B7,	0X210,	0X205,		//for generate package

	0X1BC,	0X202,	0X200,
	0X1BF,	0X2B0,	0X204,		//Manufacturer Command Access Protect
	0X355,

	0XF00	
};

uint16_t gamma[10][64];
